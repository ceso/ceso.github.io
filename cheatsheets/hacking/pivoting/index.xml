<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Pivoting on Ceso Adventures</title><link>https://ceso.github.io/cheatsheets/hacking/pivoting/</link><description>Recent content in Pivoting on Ceso Adventures</description><generator>Hugo</generator><language>en-gb</language><lastBuildDate>Fri, 03 Oct 2025 00:00:00 +0000</lastBuildDate><atom:link href="https://ceso.github.io/cheatsheets/hacking/pivoting/index.xml" rel="self" type="application/rss+xml"/><item><title>README !</title><link>https://ceso.github.io/cheatsheets/hacking/pivoting/readme/</link><pubDate>Fri, 03 Oct 2025 00:00:00 +0000</pubDate><guid>https://ceso.github.io/cheatsheets/hacking/pivoting/readme/</guid><description>&lt;p&gt;It&amp;rsquo;s possible to do pivoting by using proxychains, pure nc&amp;rsquo;s or in case of linux just some fifo files (I will write them down this another methods down maybe in a future), I have used during all the OSCP an awesome tool called (sshuttle)[https://github.com/sshuttle/sshuttle] (it&amp;rsquo;s a transparent proxy server that works like &amp;ldquo;a vpn&amp;rdquo;, and doesn&amp;rsquo;t require with super rights, only thing needed is that the bastion server you will use, needs to have installed python) and sometimes some SSH Forwarding. Something worth to mention nmap doesn&amp;rsquo;t work through sshuttle.&lt;/p&gt;</description></item><item><title>Chisel</title><link>https://ceso.github.io/cheatsheets/hacking/pivoting/chisel/</link><pubDate>Fri, 03 Oct 2025 00:00:00 +0000</pubDate><guid>https://ceso.github.io/cheatsheets/hacking/pivoting/chisel/</guid><description>&lt;p&gt;If we have Chisel with remote port forward from machine in the net:&lt;/p&gt;
&lt;p&gt;On attacker machine I start up a chisel reverse server on port 9050 (imagine this machine IP is 192.168.90.90)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-console" data-lang="console"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;server -p 9050 --reverse
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;On compromised machine in the network I start a client connection against the server running in the attacker.
The command below will be forwarding the traffic from port 8081 in the machine 172.16.42.90 throughout the compromised machine (via localhost in port 5050) to the attacker.&lt;/p&gt;</description></item><item><title>Metasploit</title><link>https://ceso.github.io/cheatsheets/hacking/pivoting/metasploit/</link><pubDate>Fri, 03 Oct 2025 00:00:00 +0000</pubDate><guid>https://ceso.github.io/cheatsheets/hacking/pivoting/metasploit/</guid><description>&lt;p&gt;We use metasploit: autorute + socks_proxy&lt;/p&gt;
&lt;pre tabindex="0"&gt;&lt;code class="language-background" data-lang="background"&gt;use post/multi/manage/autoroute
set session 8
run
use auxiliary/server/socks_proxy
run -j
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The SRVPORT of socks_proxy must match the one configured in proxychains.conf as the VERSION used as well.&lt;/p&gt;
&lt;hr&gt;</description></item><item><title>sshuttle</title><link>https://ceso.github.io/cheatsheets/hacking/pivoting/sshuttle/</link><pubDate>Fri, 03 Oct 2025 00:00:00 +0000</pubDate><guid>https://ceso.github.io/cheatsheets/hacking/pivoting/sshuttle/</guid><description>&lt;h1 id="one-hop"&gt;One hop&lt;/h1&gt;
&lt;p&gt;Let&amp;rsquo;s say we are in an intranet and we have compromised a firewall that gives us access to the management net (fw.example.mgmt - ips 192.168.20.35 and 192.168.30.253 as the management ip), by using sshuttle we can create a &amp;ldquo;vpn&amp;rdquo; to talk directly to those servers, for that, we use:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-console" data-lang="console"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sshuttle ceso@192.168.20.35 192.168.30.0/24
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h1 id="multi-hops"&gt;Multi-hops&lt;/h1&gt;
&lt;p&gt;Now imagine that after we broke up into the management net after some some enumeration, we ended to compromise a machine that has also access to a production environment (foreman.example.mgmt - ips 192.168.30.40 and 192.168.25.87), we can take advantage of sshuttle + ProxyCommand of ssh to create a &amp;ldquo;vpn&amp;rdquo; through this multiple hops, so&amp;hellip;putting it down, this will be kind of as follow (the diagram is extremly simplified and just for the sake of illustrate this visually, so it doesn&amp;rsquo;t intend to provide a 100% precise network diagram):&lt;/p&gt;</description></item></channel></rss>