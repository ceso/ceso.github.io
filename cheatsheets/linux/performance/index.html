<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Performance</title><link rel=stylesheet href=https://ceso.github.io/css/wiki.css></head><header><div id=brand><a class=icon-link href=https://ceso.github.io/><img class=icon src=https://ceso.github.io/images/site/logo.svg></a><div class=text><a href=https://ceso.github.io/ class=site-title>Ceso Adventures</a><h3>Blogs, Security CTFs & Tutorials</h3></div></div><nav><a href=https://ceso.github.io/><b>Home</b></a>
|
<a href=https://ceso.github.io/whoami/><b>Whoami</b></a>
|
<a href=https://ceso.github.io/posts/><b>Posts</b></a>
|
<a href=https://ceso.github.io/cheatsheets/><b>Cheatsheets</b></a>
|
<a href=https://ceso.github.io/resources><b>Resources</b></a>
|
<a href=https://ceso.github.io/videos><b>Videos</b></a>
|
<a href=https://ceso.github.io/categories/><b>Categories</b></a>
|
<a href=https://ceso.github.io/tags/><b>Tags</b></a>
|
<a href=https://ceso.github.io/index.xml><b>RSS</b></a></nav><hr></header><div class=wrap><nav class=sidebar aria-label="Table of contents"><h2>Cheatsheets</h2><details open><summary>Linux</summary><div class=children><a href=https://ceso.github.io/cheatsheets/linux/bash/>Bash
</a><a href=https://ceso.github.io/cheatsheets/linux/coreos/>CoreOS
</a><a href=https://ceso.github.io/cheatsheets/linux/general/>General
</a><a href=https://ceso.github.io/cheatsheets/linux/performance/ class=current>Performance</a></div></details><details><summary>Hacking</summary><div class=children><details><summary>Active Directory</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/bloodhound/>BloodHound
</a><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/exploitation/>Exploitation
</a><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/permissions/>Permissions: ACE/SDDL - Format
</a><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/powerview/>PowerView - methods for enumeration</a></div></details><details><summary>Antivirus Bypassing</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/antivirus_bypassing/readme/>README !
</a><a href=https://ceso.github.io/cheatsheets/hacking/antivirus_bypassing/amsi/>AMSI
</a><a href=https://ceso.github.io/cheatsheets/hacking/antivirus_bypassing/signature_heuristics/>Signature/Heuristics</a></div></details><details><summary>Enumeration</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/login_cifs_winrm_pssesion/>Login through CIFS/WinRM/PSSession
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/networking/>Networking
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/samba/>Samba
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/useful_wordlists/>Useful Wordlists
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/web_directorie_file_scanner/>Web directorie/file scanner
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/windows/>Windows</a></div></details><details><summary>Exfiltration</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/ftp/>FTP
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/http/>HTTP
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/rdp/>RDP
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/samba/>Samba
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/sockets/>Sockets</a></div></details><details><summary>Good to know</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/good_to_know/compiling/>Compiling
</a><a href=https://ceso.github.io/cheatsheets/hacking/good_to_know/misc/>Misc
</a><a href=https://ceso.github.io/cheatsheets/hacking/good_to_know/web/>Web</a></div></details><details><summary>Memory Exploitation</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/memory_exploitation/simple_buffer_overflow/>(Simple) Buffer Overflow (32 bits, NO ASLR and NO DEP)</a></div></details><details><summary>Pivoting</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/readme/>README !
</a><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/chisel/>Chisel
</a><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/metasploit/>Metasploit
</a><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/sshuttle/>sshuttle</a></div></details><details><summary>Privilege Escalation</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/privilege_escalation/linux/>Linux
</a><a href=https://ceso.github.io/cheatsheets/hacking/privilege_escalation/windows/>Windows</a></div></details><details><summary>Reverse Shells</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/reverse_shellls/bash/>Bash
</a><a href=https://ceso.github.io/cheatsheets/hacking/reverse_shellls/metasploit/>Metasploit
</a><a href=https://ceso.github.io/cheatsheets/hacking/reverse_shellls/php/>PHP</a></div></details></div></details><hr style="border:none;border-top:1px solid rgba(255,255,255,3%);margin:12px 0"><div style=padding:8px;color:#9aa4b2;font-size:13px>I wuv cheese :D</div></nav><main><header class=page-title><h1>Performance</h1></header><article><h1 id=diagrams>Diagrams</h1><p><a href=http://www.slideshare.net/slideshow/embed_code/16739605#>http://www.slideshare.net/slideshow/embed_code/16739605#</a></p><hr><h1 id=load-average-across-time-load-average-can-be-impacted-by-io>Load average across time. Load average can be impacted by IO</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>uptime
</span></span></code></pre></div><hr><h1 id=on-top-the-process-list-does-not-show-kernel-threads>On TOP The process list does not show KERNEL threads</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>top
</span></span><span style=display:flex><span>htop
</span></span><span style=display:flex><span>atop
</span></span><span style=display:flex><span>nmon        =&gt; press c + m + d + n
</span></span></code></pre></div><hr><h1 id=network-graphical-tools>Network graphical tools</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>iftop
</span></span><span style=display:flex><span>nload
</span></span></code></pre></div><hr><h1 id=multi-processor-statistics>Multi processor statistics</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>mpstat -P ALL 1
</span></span></code></pre></div><hr><h1 id=disk-io-statistics-first-output-is-summary-since-boot>DISK I/O Statistics, First output is summary since boot</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>iostat -xkdz 1A
</span></span></code></pre></div><hr><h1 id=virtual-memory-statistics-first-line-include-some-summaries-since-boot-values>Virtual Memory statistics. First line include some summaries since boot values</h1><h1 id=r-total-number-of-runnable-threads-including-those-running>r= total number of runnable threads, including those running</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>vmstat 1
</span></span></code></pre></div><hr><h1 id=memory-usage-summary>Memory usage summary</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>free
</span></span></code></pre></div><hr><h1 id=simple-network-latency-but-from-kernel-to-kernel-including-stack>Simple network latency but from kernel to kernel, including stack</h1><pre tabindex=0><code>ping
</code></pre><hr><h1 id=network-statistics-tools-check-utilization-and-saturation-columns-last-2>Network statistics tools. Check Utilization and Saturation columns (last 2)</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>wget ftp://ftp.pbone.net/mirror/ftp5.gwdg.de/pub/opensuse/repositories/home:/cwx_holle/RedHat_RHEL-6/i686/nicstat-1.92-2.1.i686.rpm
</span></span><span style=display:flex><span>yum install nicstat-1.92-2.1.i686.rpm
</span></span><span style=display:flex><span>nicstat -z 1
</span></span></code></pre></div><hr><h1 id=system-activity-reporter>System Activity reporter</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>sar 1
</span></span><span style=display:flex><span>sar -B 1
</span></span></code></pre></div><hr><h1 id=various-network-protocol-statistics>Various network protocol statistics</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>netstat -s
</span></span></code></pre></div><hr><h1 id=who-is-consuming-cpu>who is consuming CPU</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>pidstat 1
</span></span></code></pre></div><hr><h1 id=pidstat-to-identify-which-application-is-writing-to-disk-it-includes-kernel-threads-with--d>Pidstat to identify which application is writing to disk. It includes kernel threads with -d</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>pidstat -d 1
</span></span></code></pre></div><hr><h1 id=system-call-tracer>System call tracer</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>strace -tttT -p PID
</span></span><span style=display:flex><span>strace -s 2000 -f -p PID =&gt; With lsof you can tell what are the file descriptors
</span></span></code></pre></div><p>Get statistics for each system call excecuted, this is useful to compare a process
that is working good vs a process that is not working right</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>strace -c -p PID
</span></span></code></pre></div><p>For performance problems you can use the flag -T that can actually measure the
time each system call takes</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>strace -T -p pid
</span></span></code></pre></div><hr><h1 id=sysdig>Sysdig</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>sysdig proc.name=python
</span></span></code></pre></div><h2 id=sysdig-port>Sysdig port</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>sysdig fd.type=ipv4
</span></span><span style=display:flex><span>sysdig fd.l4proto=tcp
</span></span><span style=display:flex><span>sysdig fd.sip=127.0.0.1
</span></span><span style=display:flex><span>sysdig fd.sport=39157
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span># New processes:
</span></span><span style=display:flex><span>sysdig evt.type=clone
</span></span><span style=display:flex><span>sysdig evt.type=execve
</span></span><span style=display:flex><span>evt.type=open
</span></span><span style=display:flex><span>evt.type=creat
</span></span><span style=display:flex><span>evt.type=connect
</span></span></code></pre></div><p>More documented sysdig</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>http://sysdigcloud.com/fascinating-world-linux-system-calls/
</span></span></code></pre></div><hr><h1 id=disk-io-by-process>Disk I/O by process</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>iotop -od5
</span></span></code></pre></div><hr><h1 id=kernel-slab-allocator-usage-top>Kernel slab allocator usage top</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>slabtop -sc
</span></span></code></pre></div><hr><h1 id=read-statistics-directly>Read statistics directly</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>cat /proc/meminfo
</span></span><span style=display:flex><span>cat /proc/vmstat
</span></span></code></pre></div><hr><h1 id=understand-how-your-application-works>Understand how your application works</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>perf stat COMMAND
</span></span></code></pre></div><hr><h1 id=ps>Ps</h1><p>To See Threads ( LWP and NLWP) and arguments</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps -AlFH
</span></span></code></pre></div><p>Set Output In a User-Defined Format</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps -eo pid,tid,class,rtprio,ni,pri,psr,pcpu,stat,wchan:14,comm
</span></span><span style=display:flex><span>ps axo stat,euid,ruid,tty,tpgid,sess,pgrp,ppid,pid,pcpu,comm
</span></span><span style=display:flex><span>ps -eopid,tt,user,fname,tmout,f,wchan
</span></span><span style=display:flex><span>Display Only The Process IDs of Lighttpd
</span></span></code></pre></div><p>Find Out The Top 10 Memory Consuming Process</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps auxf | sort -nr -k 4 | head -10
</span></span></code></pre></div><p>Find Out top 10 CPU Consuming Process</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps auxf | sort -nr -k 3 | head -10
</span></span></code></pre></div><hr></article></main></div></body><footer><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://ceso.github.io/css/wiki.css></footer><footer><hr><p id=social>Find me around the web:<br><a href=https://github.com/ceso target=_blank>GitHub</a>
|
<a href=https://youtube.com/c/LeandroLemos target=_blank>YouTube</a>
|
<a href=https://twitch.tv/0xc350 target=_blank>Twitch</a></p><p class=copyright>Copyright © 2025
<a href=https://ceso.github.io/><strong>Ceso</strong></a>.</p><p class=builtWith>Built with
<a href=http://www.gohugo.io/>Hugo</a> by ceso,
using <a href=https://github.com/ceso/smigle-lagom>smigle-lagom</a> a fork of the theme
<a href=https://github.com/joe-mccarthy/smigle-lite>smigle-lite</a>. Based on the theme
<a href=https://gitlab.com/ian-s-mcb/smigle-hugo-theme>smigle</a>,
which was influenced by the theme
<a href=https://github.com/colorchestra/smol>smol</a>.</p></footer>