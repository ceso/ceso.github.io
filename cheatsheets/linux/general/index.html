<head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>General</title><link rel=stylesheet href=https://ceso.github.io/css/wiki.css></head><header><div id=brand><a class=icon-link href=https://ceso.github.io/><img class=icon src=https://ceso.github.io/images/site/logo.svg></a><div class=text><a href=https://ceso.github.io/ class=site-title>Ceso Adventures</a><h3>Blogs, Security CTFs & Tutorials</h3></div></div><nav><a href=https://ceso.github.io/><b>Home</b></a>
|
<a href=https://ceso.github.io/whoami/><b>Whoami</b></a>
|
<a href=https://ceso.github.io/posts/><b>Posts</b></a>
|
<a href=https://ceso.github.io/cheatsheets/><b>Cheatsheets</b></a>
|
<a href=https://ceso.github.io/resources><b>Resources</b></a>
|
<a href=https://ceso.github.io/videos><b>Videos</b></a>
|
<a href=https://ceso.github.io/categories/><b>Categories</b></a>
|
<a href=https://ceso.github.io/tags/><b>Tags</b></a>
|
<a href=https://ceso.github.io/index.xml><b>RSS</b></a></nav><hr></header><div class=wrap><nav class=sidebar aria-label="Table of contents"><h2>Cheatsheets</h2><details open><summary>Linux</summary><div class=children><a href=https://ceso.github.io/cheatsheets/linux/bash/>Bash
</a><a href=https://ceso.github.io/cheatsheets/linux/coreos/>CoreOS
</a><a href=https://ceso.github.io/cheatsheets/linux/general/ class=current>General
</a><a href=https://ceso.github.io/cheatsheets/linux/performance/>Performance</a></div></details><details><summary>Hacking</summary><div class=children><details><summary>Active Directory</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/bloodhound/>BloodHound
</a><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/exploitation/>Exploitation
</a><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/permissions/>Permissions: ACE/SDDL - Format
</a><a href=https://ceso.github.io/cheatsheets/hacking/active_directory/powerview/>PowerView - methods for enumeration</a></div></details><details><summary>Antivirus Bypassing</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/antivirus_bypassing/readme/>README !
</a><a href=https://ceso.github.io/cheatsheets/hacking/antivirus_bypassing/amsi/>AMSI
</a><a href=https://ceso.github.io/cheatsheets/hacking/antivirus_bypassing/signature_heuristics/>Signature/Heuristics</a></div></details><details><summary>Enumeration</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/login_cifs_winrm_pssesion/>Login through CIFS/WinRM/PSSession
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/networking/>Networking
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/samba/>Samba
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/useful_wordlists/>Useful Wordlists
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/web_directorie_file_scanner/>Web directorie/file scanner
</a><a href=https://ceso.github.io/cheatsheets/hacking/enumeration/windows/>Windows</a></div></details><details><summary>Exfiltration</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/ftp/>FTP
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/http/>HTTP
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/rdp/>RDP
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/samba/>Samba
</a><a href=https://ceso.github.io/cheatsheets/hacking/exfiltration/sockets/>Sockets</a></div></details><details><summary>Good to know</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/good_to_know/compiling/>Compiling
</a><a href=https://ceso.github.io/cheatsheets/hacking/good_to_know/misc/>Misc
</a><a href=https://ceso.github.io/cheatsheets/hacking/good_to_know/web/>Web</a></div></details><details><summary>Memory Exploitation</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/memory_exploitation/simple_buffer_overflow/>(Simple) Buffer Overflow (32 bits, NO ASLR and NO DEP)</a></div></details><details><summary>Pivoting</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/readme/>README !
</a><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/chisel/>Chisel
</a><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/metasploit/>Metasploit
</a><a href=https://ceso.github.io/cheatsheets/hacking/pivoting/sshuttle/>sshuttle</a></div></details><details><summary>Privilege Escalation</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/privilege_escalation/linux/>Linux
</a><a href=https://ceso.github.io/cheatsheets/hacking/privilege_escalation/windows/>Windows</a></div></details><details><summary>Reverse Shells</summary><div class=children><a href=https://ceso.github.io/cheatsheets/hacking/reverse_shellls/bash/>Bash
</a><a href=https://ceso.github.io/cheatsheets/hacking/reverse_shellls/metasploit/>Metasploit
</a><a href=https://ceso.github.io/cheatsheets/hacking/reverse_shellls/php/>PHP</a></div></details></div></details><hr style="border:none;border-top:1px solid rgba(255,255,255,3%);margin:12px 0"><div style=padding:8px;color:#9aa4b2;font-size:13px>I wuv cheese :D</div></nav><main><header class=page-title><h1>General</h1></header><article><h1 id=user-run-command-as-different-user-with-binnologin>User. Run command as different user with /bin/nologin</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>sudo -u user &lt;command&gt;
</span></span><span style=display:flex><span>su -m user -c &#39;command&#39;
</span></span></code></pre></div><hr><h1 id=run-levels---get-current-runlevel>Run Levels - get current runlevel</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>runlevel
</span></span></code></pre></div><hr><h1 id=crontab>Crontab</h1><p><a href=https://crontab.guru/>https://crontab.guru/</a></p><hr><h1 id=filesystem>Filesystem</h1><h2 id=filesystem-tuning>Filesystem tuning</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>tune2fs -c 0 /dev/hda1 =&gt; Set number of mounts between checks. 0 is disable
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>blkid /dev/hda1        =&gt; Get the filesystem id:
</span></span><span style=display:flex><span>findfs UUID=d40acb36-5f32-4832-bf1a-80c67833a618 =&gt; reverse uuid lookup
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>ls -l /dev/disk/by-*/  =&gt; List by different types:
</span></span></code></pre></div><h2 id=list-filesystems-suppported>List filesystems suppported</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>cat /proc/filesystems
</span></span></code></pre></div><hr><h1 id=kernel>Kernel</h1><h2 id=check-shared-memory>Check shared memory</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ipcs
</span></span></code></pre></div><h2 id=check-current-max-and-min>Check current max and min</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>/proc/sys/kernel
</span></span><span style=display:flex><span>sysctl -a
</span></span></code></pre></div><h2 id=change-parameters>Change parameters</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>sysctl -p /etc/sysctl.conf
</span></span></code></pre></div><hr><h1 id=flush-disk-cache>Flush Disk Cache</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>echo 3 | sudo tee /proc/sys/vm/drop_caches
</span></span></code></pre></div><hr><h1 id=see-video-in-youtube>See video in youtube</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>mplayer $(youtube-dl -g https://www.youtube.com/watch?v=hqtZnJg9TM0)
</span></span></code></pre></div><hr><h1 id=create-a-socks-proxy-with-ssh>Create a socks proxy with ssh</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ssh -v -D 4545 USER@WTF_DESKTOP
</span></span></code></pre></div><h2 id=local-port-forwarding-allows-you-connect-from-your-local-computer-to-another-server>Local port forwarding: allows you connect from your local computer to another server</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ssh -L 8080:www.ubuntuforums.org:80 host
</span></span></code></pre></div><h2 id=sssh-without-prompting>Sssh without prompting</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>alias ssh=&#39;ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no -q&#39;
</span></span></code></pre></div><hr><h1 id=change-samba-password>Change samba password</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>smbpasswd -r london.net-a-porter.com -U &lt;username&gt; 
</span></span></code></pre></div><hr><h1 id=hexdata-to-binary>Hexdata to binary</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>xxd bdata | xxd -r &gt;bdata2
</span></span></code></pre></div><hr><h1 id=raw-data-recovery>RAW data recovery</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>foremost
</span></span></code></pre></div><hr><h1 id=find-latest-files-that-changed-in-a-dir-and-subdir>Find latest files that changed in a dir and subdir</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>find . -type f|xargs ls -alrt
</span></span></code></pre></div><hr><h1 id=creating-patches>Creating patches</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>diff -Naur oldfile newfile &gt; new-patch
</span></span><span style=display:flex><span>diff &lt;( ssh -nq lmn-prd-sendmailrelay001 cat /etc/mail/access ) &lt;( ssh -qn prdlmn4912 cat /etc/mail/access )
</span></span></code></pre></div><p>Apply patches:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>patch -p0 &lt; new-patch                  =&gt; -pN where N is to strip directory from header
</span></span></code></pre></div><hr><h1 id=update-ruby-version>Update ruby version</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>update-alternatives --set ruby /usr/bin/ruby1.9.1
</span></span><span style=display:flex><span>update-alternatives --config ruby 
</span></span><span style=display:flex><span>update-alternatives --config gem 
</span></span></code></pre></div><hr><h1 id=package-manager>Package manager</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>yum provides &lt;filename&gt;
</span></span><span style=display:flex><span>yum updateinfo -&gt; Check what updates are needed
</span></span><span style=display:flex><span>yum repolist
</span></span><span style=display:flex><span>yum history
</span></span><span style=display:flex><span>yum resolvedep libpanel.so.5
</span></span><span style=display:flex><span>yum install /usr/bin/uuencode
</span></span><span style=display:flex><span>yumdownloader --source ruby
</span></span><span style=display:flex><span>repoquery --whatprovides system-release
</span></span><span style=display:flex><span>repoquery --whatrequires system-release
</span></span><span style=display:flex><span>repoquery --whatprovides /usr/bin/uuencode
</span></span><span style=display:flex><span>repoquery -il sharutils -&gt; list all files from an uninstalled package
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>
</span></span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010></span>find-repos-of-install  -&gt; show package = repo relation
</span></span><span style=display:flex><span>needs-restarting       -&gt; show services that need restarting because of system update
</span></span></code></pre></div><hr><h1 id=nmap>Nmap</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>nmap -Pn -sS  prdlamp01.breins.net         -&gt; well known ports scan
</span></span><span style=display:flex><span>nmap -sP 192.168.1.*                       -&gt; Discover IPs
</span></span><span style=display:flex><span>nmap -sV -T4 -F                            -&gt; port scan including service versions
</span></span></code></pre></div><hr><h1 id=wget-full-site>Wget full site</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>$ wget <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --recursive \
</span></span><span style=display:flex><span>  --no-clobber \
</span></span><span style=display:flex><span>  --page-requisites \
</span></span><span style=display:flex><span>  --html-extension \
</span></span><span style=display:flex><span>  --convert-links \
</span></span><span style=display:flex><span>  --restrict-file-names=windows \
</span></span><span style=display:flex><span>  --domains dacef.com \
</span></span><span style=display:flex><span>  --no-parent \
</span></span><span style=display:flex><span>  dacef.com
</span></span></code></pre></div><hr><h1 id=flush-dns-cache>Flush DNS Cache</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>/etc/init.d/nscd restart
</span></span><span style=display:flex><span>/etc/init.d/dnsmasq restart
</span></span></code></pre></div><hr><h1 id=measure-requests-per-second-on-a-log>Measure requests per second on a log</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>tail -f access.log | pv -l -i10 -r &gt;/dev/null
</span></span></code></pre></div><hr><h1 id=curl-commands>Curl commands</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>curl -o /dev/null -s -w &#34;Time: %{time_total} %{http_code}\n&#34; URL
</span></span><span style=display:flex><span>curl -sL -w &#34;%{http_code}\\n&#34; www.example.com -o /dev/null
</span></span></code></pre></div><hr><h1 id=temporary-web-server>Temporary web server</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>python -m http.sever &lt;port&gt;
</span></span></code></pre></div><hr><h1 id=get-your-ip>Get your IP</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>curl http://ipecho.net/plain
</span></span></code></pre></div><hr><h1 id=get-dns>Get DNS</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>nmcli dev list iface eth0 | grep IP4
</span></span><span style=display:flex><span>nm-tool
</span></span></code></pre></div><hr><h1 id=check-if-a-server-is-idle-by-verifying-connections>Check if a server is idle by verifying connections</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>syslog.conf:   kern.*          /var/log/iptables.log
</span></span><span style=display:flex><span>iptables rule: iptables -A INPUT -i eth0 -m state --state NEW -j LOG
</span></span></code></pre></div><hr><h1 id=configure-nat>configure nat</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>SRC=br0
</span></span><span style=display:flex><span>DST=eth0
</span></span><span style=display:flex><span>echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</span></span><span style=display:flex><span>/sbin/iptables -t nat -A POSTROUTING -o $DST -j MASQUERADE
</span></span><span style=display:flex><span>/sbin/iptables -A FORWARD -i $DST -o $SRC -m state --state RELATED,ESTABLISHED -j ACCEPT
</span></span><span style=display:flex><span>/sbin/iptables -A FORWARD -i $SRC -o $DST -j ACCEPT
</span></span></code></pre></div><hr><h1 id=redirect-connection-to-internal-server>Redirect connection to internal server</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</span></span><span style=display:flex><span>iptables -t nat -A PREROUTING -p tcp --dport 80 -j DNAT --to-destination 10.0.2.200:80
</span></span><span style=display:flex><span>iptables -t nat -A POSTROUTING -j MASQUERADE
</span></span></code></pre></div><hr><h1 id=configure-port-redirect-to-internal-host>Configure port redirect to internal host</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>echo 1 &gt; /proc/sys/net/ipv4/ip_forward
</span></span><span style=display:flex><span>iptables -t nat -A PREROUTING -p tcp --dport 443 -j DNAT --to-destination 192.168.56.202:443
</span></span><span style=display:flex><span>iptables -t nat -A PREROUTING -p tcp --dport 22 -j DNAT --to-destination 192.168.56.202:22
</span></span></code></pre></div><hr><h1 id=ubuntu-network-configuration>Ubuntu network configuration</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>auto eth0
</span></span><span style=display:flex><span>iface eth0 inet static
</span></span><span style=display:flex><span>  address 192.168.56.10
</span></span><span style=display:flex><span>  netmask 255.255.255.0
</span></span><span style=display:flex><span>  gateway 192.168.56.1 
</span></span><span style=display:flex><span>  dns-nameservers 10.136.85.27 10.136.85.32
</span></span></code></pre></div><hr><h1 id=dig-get-ttl>Dig get ttl</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>dig +noauthority +noquestion +nostats URL @DNS-SERVER
</span></span></code></pre></div><hr><h1 id=some-tools-to-monitor-network-connections-and-bandwith>Some tools to monitor network connections and bandwith</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>&#39;lsof -i&#39; monitors network connections in real time
</span></span><span style=display:flex><span>&#39;iftop&#39; shows bandwith usage per *connection*
</span></span><span style=display:flex><span>&#39;nethogs&#39; shows the bandwith usage per *process*
</span></span></code></pre></div><hr><h1 id=debian--redhat-package-management>Debian / Redhat package management</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>Feature                              rpm                                   deb
</span></span><span style=display:flex><span>----------------------------------------------------------------------------------
</span></span><span style=display:flex><span>View all installed packages          rpm -qa                               dpkg --get-selections
</span></span><span style=display:flex><span>View files in an installed package   rpm -ql packagename                   dpkg -L packagename
</span></span><span style=display:flex><span>View files in an package file        rpm -qlp ./packagename.rpm            dpkg -c ./packagename.deb
</span></span><span style=display:flex><span>View package info, installed package rpm -qi packagename (1)               dpkg -s packagename
</span></span><span style=display:flex><span>View package info, package file      rpm -qip ./packagename.rpm (1)        dpkg -I ./packagename.deb
</span></span><span style=display:flex><span>View pre/post install shell scripts  rpm -q --scripts packagename
</span></span><span style=display:flex><span>View changelog for a package file    rpm -qp --changelog ./packagename.rpm 
</span></span><span style=display:flex><span>Uninstall a package                  rpm -e packagename                    dpkg -r/dpkg -P
</span></span><span style=display:flex><span>Install a package file               rpm -ivh ./packagename.rpm            dpkg -i
</span></span><span style=display:flex><span>Upgrade a package from a file        rpm -Uvh ./packagename.rpm
</span></span><span style=display:flex><span>Find which package owns a file       rpm -qif /some/file.foo
</span></span><span style=display:flex><span>List dependencies of a package       rpm -q --requires packagename
</span></span><span style=display:flex><span>List dependencies of a package file  rpm -qp --requires ./packagename.rpm
</span></span><span style=display:flex><span>View all installed packages          rpm -qa                               dpkg -l, dpkg-query -Wf &#39;${Package}\n&#39;
</span></span><span style=display:flex><span>View package info, installed package rpm -qi packagename (1)               apt-cache show packagename
</span></span><span style=display:flex><span>View pre/post install shell scripts  rpm -q --scripts packagename          cat /var/lib/dpkg/info/packagename.{pre,post}{inst,rm}
</span></span><span style=display:flex><span>View changelog for a package file    rpm -qp --changelog ./packagename.rpm dpkg-deb --fsys-tarfile packagename.deb | tar -O -xvf - ./usr/share/doc/packagename/changelog.gz | gunzip
</span></span><span style=display:flex><span>Uninstall a package                  rpm -e packagename                    apt-get remove/purge packagename
</span></span><span style=display:flex><span>Upgrade a package from a file        rpm -Uvh ./packagename.rpm            dpkg -i packagename.deb
</span></span><span style=display:flex><span>Find which package owns a file       rpm -qif /some/file.foo               dpkg -S /dome/file.foo
</span></span><span style=display:flex><span>List dependencies of a package       rpm -q --requires packagename         apt-cache depends package
</span></span><span style=display:flex><span>List dependencies of a package file  rpm -qp --requires ./packagename.rpm  (shown in packages info)
</span></span></code></pre></div><hr><h1 id=tcpdump-headers-for-http>Tcpdump headers for http</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>tcpdump -s 1024 -l -A port 8912|grep GET
</span></span></code></pre></div><hr><h1 id=whos-there>Whos there</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>w
</span></span><span style=display:flex><span>last
</span></span></code></pre></div><hr><h1 id=what-was-previously-done>What was previously done?</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>history
</span></span></code></pre></div><hr><h1 id=whats-running>What&rsquo;s running</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>pstree -a
</span></span><span style=display:flex><span>ps aux
</span></span><span style=display:flex><span>ps -efx                       -&gt; show all
</span></span><span style=display:flex><span>ps axwef                      -&gt; List processes tree with child processes
</span></span><span style=display:flex><span>ps -eFL |grep activemq        -&gt; List all threads
</span></span></code></pre></div><p>Single process CPU and Memory user</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>top -u user
</span></span><span style=display:flex><span>top -H -u user                -&gt; Showing all threads information
</span></span><span style=display:flex><span>top -p pid
</span></span></code></pre></div><hr><h1 id=top-res-virt-shr-data>Top RES VIRT SHR DATA</h1><p>VIRT is virtual memory usage, it can probably be best described as the app&rsquo;s used address space - every library the app uses, every data it creates, everything is included here. If the app requests 100M memory from the kernel but actually uses only 1M, VIRT will still increase by 100M.</p><p>RES is resident memory usage, i.e. what&rsquo;s actually in the memory. In a way it could be probably used for measuring real memory usage of the app - if the app requests 100M memory from the kernel but actually uses only 1M, this should increase only by 1M. There are only two small problems, a) RES doesn&rsquo;t include memory that&rsquo;s swapped out (and no, the SWAP field in &rsquo;top&rsquo; is not usable, it&rsquo;s completely bogus), b) some of that memory may be shared.</p><p>SHR is shared memory. Potentionally shared memory. I.e. memory that may be used not only by this particular app but also by some else. And actually it seems to be the shared part of RES - SHR goes down if the app will be swapped out, at least with recent kernels. I actually don&rsquo;t think it used to do that before, I used to measure unshared memory usage simply as VIRT-SHR and it seemed to give usable numbers. If it used to be always like this then I guess I must have produced a couple of bogus benchmarks in the past. Oh well.
It seems using the DATA field does the job of saying how much total unshared memory the app is using (if it&rsquo;s not visible it can be added using the &lsquo;f&rsquo; key).</p><h1 id=listening-services>Listening services</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>netstat -tulapn|grep LISTEN
</span></span><span style=display:flex><span>netstat -lnt4|grep -Eo &#39;[0-9]{2,6} &#39; -&gt; all ipv4 ports open
</span></span></code></pre></div><hr><h1 id=graphical-tools>Graphical tools</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>htop
</span></span><span style=display:flex><span>glances
</span></span><span style=display:flex><span>apachetop
</span></span><span style=display:flex><span>iotop
</span></span></code></pre></div><hr><h1 id=hardware>Hardware</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>lspci
</span></span><span style=display:flex><span>dmidecode
</span></span><span style=display:flex><span>ethtool
</span></span></code></pre></div><hr><h1 id=io>IO</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>iostat -kxd 2
</span></span><span style=display:flex><span>vmstat 2 10
</span></span><span style=display:flex><span>mpstat 2 10
</span></span><span style=display:flex><span>dstat --top-io --top-bio
</span></span><span style=display:flex><span>pidstat -wt                   -&gt; show interrupts per process
</span></span><span style=display:flex><span>watch -tdn1 /proc/interfaces
</span></span></code></pre></div><h2 id=find-processes-on-uninterruptable-state-d-probably-waiting-for-io>Find processes on uninterruptable state &ldquo;D&rdquo; (probably waiting for IO)</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ps -eo ppid,pid,user,stat,pcpu,comm,wchan:32|egrep &#34; D| Z&#34;
</span></span></code></pre></div><h2 id=measure-disk-speed>Measure disk speed</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>FILE=/tmp/dd-data.raw
</span></span><span style=display:flex><span>dd if=/dev/zero of=$FILE bs=8k count=256k conv=sync; rm -rf $FILE
</span></span><span style=display:flex><span>fio
</span></span></code></pre></div><hr><h1 id=mount-points>mount points</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>mount
</span></span><span style=display:flex><span>cat /etc/fstab
</span></span><span style=display:flex><span>vgs
</span></span><span style=display:flex><span>pvs
</span></span><span style=display:flex><span>lvs
</span></span><span style=display:flex><span>df -h
</span></span><span style=display:flex><span>lsof +D
</span></span></code></pre></div><hr><h1 id=kernel-interrupts-and-network-usage>Kernel, interrupts and network usage</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>sysctl -a | grep ...
</span></span><span style=display:flex><span>cat /proc/interrupts
</span></span><span style=display:flex><span>cat /proc/net/ip_conntrack /* may take some time on busy servers */
</span></span><span style=display:flex><span>netstat
</span></span><span style=display:flex><span>ss -s
</span></span></code></pre></div><hr><h1 id=system-logs-and-messages>System logs and messages</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>dmesg
</span></span><span style=display:flex><span>less /var/log/messages
</span></span><span style=display:flex><span>less /var/log/secure
</span></span><span style=display:flex><span>less /var/log/auth
</span></span></code></pre></div><hr><h1 id=sudoers>Sudoers</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>USER ALL=(ALL)   NOPASSWD: ALL
</span></span></code></pre></div><hr><h1 id=ldap>LDAP</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ldapsearch -W -D &#39;cn=LDAPBIND,cn=Users,dc=london,dc=net-a-porter,dc=com&#39; -b &#39;ou=Users,ou=Whiteleys,dc=london,dc=net-a-porter,dc=com&#39; -H ldaps://dc01-pr-whi.london.net-a-porter.com
</span></span></code></pre></div><hr><h1 id=vmstat-fields>vmstat fields</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>r: The number of processes waiting for run time.
</span></span><span style=display:flex><span>b: The number of processes in uninterruptible sleep.
</span></span><span style=display:flex><span>swpd: the amount of virtual memory used.
</span></span><span style=display:flex><span>free: the amount of idle memory.
</span></span><span style=display:flex><span>buff: the amount of memory used as buffers.
</span></span><span style=display:flex><span>cache: the amount of memory used as cache.
</span></span><span style=display:flex><span>inact: the amount of inactive memory. (-a option)
</span></span><span style=display:flex><span>active: the amount of active memory. (-a option)
</span></span><span style=display:flex><span>si: Amount of memory swapped in from disk (/s).
</span></span><span style=display:flex><span>so: Amount of memory swapped to disk (/s).
</span></span><span style=display:flex><span>bi: Blocks received from a block device (blocks/s).
</span></span><span style=display:flex><span>bo: Blocks sent to a block device (blocks/s).
</span></span><span style=display:flex><span>in: The number of interrupts per second, including the clock.
</span></span><span style=display:flex><span>cs: The number of context switches per second.
</span></span><span style=display:flex><span>us: Time spent running non-kernel code. (user time, including nice time)
</span></span><span style=display:flex><span>sy: Time spent running kernel code. (system time)
</span></span><span style=display:flex><span>id: Time spent idle.
</span></span><span style=display:flex><span>wa: Time spent waiting for IO.
</span></span></code></pre></div><hr><h1 id=openssl>OpenSSL</h1><h2 id=create-self-signed-certs-for-apache>Create self signed certs for apache</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl req -x509 -nodes -days 3650 -newkey rsa:2048 -keyout /etc/puppet/files/support.breins.net.key -out /etc/puppet/files/support.breins.net.pem
</span></span></code></pre></div><h2 id=and-non-interactive>And non interactive</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl req -new -newkey rsa:4096 -days 365 -nodes -x509 -subj &#34;/C=US/ST=Denial/L=Springfield/O=Dis/CN=www.example.com&#34; -keyout www.example.com.key  -out www.example.com.cert
</span></span></code></pre></div><h2 id=check-a-certificate-signing-request-csr>Check a Certificate Signing Request (CSR)</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl req -text -noout -verify -in CSR.csr
</span></span></code></pre></div><h2 id=check-a-private-key>Check a private key</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl rsa -in privateKey.key -check
</span></span></code></pre></div><h2 id=connect-to-remote-host-and-gather-certificate>Connect to remote host and gather certificate</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl s_client -connect localhost:8140 -showcerts
</span></span></code></pre></div><h2 id=check-a-certificate>Check a certificate</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl x509 -in certificate.crt -text -noout
</span></span></code></pre></div><p>Check a PKCS#12 file (.pfx or .p12)</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl pkcs12 -info -in keyStore.p12
</span></span></code></pre></div><h2 id=check-sha-encryption>Check SHA encryption</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl s_client -connect woodfordfunds.com:443|openssl x509 -text -in /dev/stdin | grep &#34;Signature Algorithm&#34;
</span></span></code></pre></div><h2 id=remove-passworrfd-from-key>Remove passworrfd from key</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>openssl rsa -in www.key -out new.key
</span></span></code></pre></div><hr><h1 id=ntp>NTP</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>ntpdate pool.ntp.org
</span></span></code></pre></div><hr><h1 id=schedule-a-job>Schedule a job</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>at 4:00pm
</span></span><span style=display:flex><span>warning: commands will be executed using /bin/sh
</span></span><span style=display:flex><span>at&gt; do
</span></span><span style=display:flex><span>at&gt; reboot
</span></span><span style=display:flex><span>at&gt; done
</span></span><span style=display:flex><span>C-D
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at now + 1 day
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at now + 2 months
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at now + 1 year
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at Friday
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at Tuesday
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at 6/1/11
</span></span><span style=display:flex><span>echo &#34;wget download-some-file-later&#34; | at 5 pm 3/1/11
</span></span></code></pre></div><hr><h1 id=imagemagick>IMagemagick</h1><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-console data-lang=console><span style=display:flex><span>DISPLAY=:99 import -window root screenshot.png
</span></span></code></pre></div><hr></article></main></div></body><footer><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel=stylesheet href=https://ceso.github.io/css/wiki.css></footer><footer><hr><p id=social>Find me around the web:<br><a href=https://github.com/ceso target=_blank>GitHub</a>
|
<a href=https://youtube.com/c/LeandroLemos target=_blank>YouTube</a>
|
<a href=https://twitch.tv/0xc350 target=_blank>Twitch</a></p><p class=copyright>Copyright © 2025
<a href=https://ceso.github.io/><strong>Ceso</strong></a>.</p><p class=builtWith>Built with
<a href=http://www.gohugo.io/>Hugo</a> by ceso,
using <a href=https://github.com/ceso/smigle-lagom>smigle-lagom</a> a fork of the theme
<a href=https://github.com/joe-mccarthy/smigle-lite>smigle-lite</a>. Based on the theme
<a href=https://gitlab.com/ian-s-mcb/smigle-hugo-theme>smigle</a>,
which was influenced by the theme
<a href=https://github.com/colorchestra/smol>smol</a>.</p></footer>